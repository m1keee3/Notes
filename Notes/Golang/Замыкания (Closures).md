Замыкание — это функции, которые **запоминают и используют переменные из внешней области видимости** даже после завершения выполнения этой области.

В Go можно объявлять **анонимные функции** и присваивать их переменной. Если такая функция использует переменные из внешней функции, она **создаёт замыкание**, сохраняя доступ к этим переменным.

**Пример:**

```
func main() {  
    a1 := foo()
    a2 := foo()
    fmt.Println(a1())  // 1
    fmt.Println(a1())  // 2
    fmt.Println(a2())  // 1
    fmt.Println(a2())  // 2
}  
  
func foo() func() int {  
    x := 0  
    return func() int {  
       x++  
       return x  
    }  
}
```

**\*Замыкания захватывают переменные по ссылке а не копируют их**

В данном примере используя **escape analysis** Go каждый раз перемещает `x` со стека на кучу.
При каждом новом вызове foo() создается на куче создается новая переменная `x`.