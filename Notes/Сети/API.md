## Application Programming Interface

**API** — это набор правил и инструментов, которые позволяют разным программам взаимодействовать друг с другом.  
Другими словами, API определяет:

- **Как** одна программа может запросить данные или функциональность у другой.
    
- **В каком формате** нужно отправлять запросы и получать ответы.

### 1. Основные понятия

#### Для чего нужны API?

- **Интеграция сервисов**: например, когда сайт погоды использует API метеорологической службы.
    
- **Доступ к данным**: мобильное приложение получает новости через API СМИ.
    
- **Автоматизация**: CRM-система отправляет заказы в 1С через API.

#### Ключевые компоненты API

| **Endpoint**     | URL API, по которому отправляется запрос (например, `api.example.com/users`). |
| ---------------- | ----------------------------------------------------------------------------- |
| **Метод**        | HTTP-метод (`GET`, `POST`, `PUT`, `DELETE`), указывающий тип операции.        |
| **Заголовки**    | Дополнительные параметры запроса (например, `Authorization: Bearer токен`).   |
| **Тело запроса** | Данные, отправляемые на сервер (обычно JSON или XML).                         |
| **Ответ**        | Данные, которые возвращает API (статус-код + тело ответа).                    |

---

## Архитектуры API

### REST API

**Что это:**

- Архитектурный стиль для взаимодействия по HTTP.
    
- Использует стандартные методы: `GET`, `POST`, `PUT`, `DELETE`.
    
- Данные обычно передаются в формате **JSON** (иногда XML).
    
- Основан на URI для идентификации ресурсов.

**Плюсы:**

- Простота: легко понять и использовать.
    
- Широкая поддержка (все языки, фреймворки, браузеры).
    
- Отлично подходит для публичных API.
    
- Хорошо работает поверх HTTP/HTTPS без доп. настроек.

**Минусы:**

- Нет строгой типизации: ошибки могут всплывать только во время выполнения.
    
- Больше «шума» в передаваемых данных (JSON обычно более объёмный).
    
- Скорость ниже, чем у gRPC, из-за сериализации/десериализации JSON и HTTP/1.1.

---

### gRPC API

**Что это:**

- Фреймворк от Google для высокопроизводительных RPC (Remote Procedure Call).
    
- Основан на **HTTP/2** и **Protocol Buffers** (protobuf) для сериализации.
    
- Генерация строго типизированных клиентских и серверных SDK.

**Плюсы:**

- Очень высокая производительность и компактность (protobuf меньше и быстрее JSON).
    
- Двунаправленный стриминг (server → client, client → server, bidirectional).
    
- Строгая типизация и контрактность API (автогенерация кода исключает многие ошибки).
    
- Отлично подходит для микросервисов, где важна скорость и надёжность.

**Минусы:**

- Сложнее, чем REST (требует знания protobuf, генерацию кода).
    
- Ограниченная поддержка в браузерах (нужно использовать gRPC-Web).
    
- Для публичных API — хуже, чем REST (меньше совместимости «из коробки»).

---

### Когда использовать REST

- Когда API публичное или открытое (например, для сторонних разработчиков).
    
- Когда важна простота и понятность.
    
- Когда нет жёстких требований по производительности.
    
- Когда клиенты — это браузеры и мобильные приложения без сложных SDK.

### Когда использовать gRPC

- В микросервисной архитектуре для **внутреннего** взаимодействия сервисов.
    
- Когда критична **скорость** и **эффективность передачи данных**.
    
- Когда требуется **стриминг** (например, чат, логирование, потоковые данные).
    
- Когда важна строгая контрактность API (генерация клиентов и серверов).

---

## Паттерны 