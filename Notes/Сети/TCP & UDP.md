
## TCP (Transmition Control Protocol)

Это протокол транспортного уровня в модели TCP/IP, который обеспечивает надежную, упорядоченную передачу данных между устройствами в сети.

### Ключевые особенности TCP

1. **Надежность**
    
    - Гарантирует доставку данных: если пакет потерялся, TCP повторяет его отправку.
        
    - Использует **подтверждения (ACK)** от получателя.
        
    - Нумерация сегментов: каждый байт данных имеет уникальный номер.
        
2. **Установка соединения**
	
	- Перед передачей данных устройства устанавливают соединение через **трехэтапное рукопожатие (3-way handshake)**.

### Как работает TCP?

#### 1. Установка соединения: трехэтапное рукопожатие

Перед передачей данных клиент и сервер выполняют:

1. **SYN (Synchronize)**:
    
    - Клиент отправляет сегмент с флагом `SYN=1`
        
    - Устанавливает начальный номер последовательности `seq=x` (например, 100)
        
    - Это значит: "Я хочу начать соединение, мой начальный номер = 100"
        
2. **SYN-ACK (Synchronize-Acknowledge)**:
    
    - Сервер отвечает двумя флагами: `SYN=1` и `ACK=1`
        
    - Устанавливает свой начальный номер `seq=y` (например, 300)
        
    - Подтверждает получение: `ack=x+1` (101)
        
    - Это значит: "Я получил твой SYN, мой начальный номер = 300, жду от тебя байт №101"
        
3. **ACK (Acknowledge)**:
    
    - Клиент подтверждает: `ACK=1`, `ack=y+1` (301)
        
    - Может сразу отправить данные
        
    - Соединение установлено, можно передавать данные
#### 2. Передача данных

- Данные разбиваются на **сегменты** (TCP-пакеты).
    
- Каждый сегмент содержит:
    
    - **Порт источника** и **порт назначения** (например, 80 для HTTP).
        
    - **Номер последовательности (seq)** — номер первого байта в сегменте.
        
    - **Номер подтверждения (ack)** — ожидаемый номер следующего байта.
        
    - **Флаги** (`SYN`, `ACK`, `FIN` и др.).


## UDP (User Datagram Protocol)

### Ключевые особенности

1. **Ненадежная доставка**
    
    - Нет подтверждений (`ACK`), повторной отправки потерянных пакетов или контроля перегрузок.
        
    - Данные могут быть потеряны, продублированы или прийти в неправильном порядке.
        
2. **Отсутствие соединения**
    
    - Не требует установки соединения (нет рукопожатия, как в TCP).
        
    - Каждый пакет (**датаграмма**) передается независимо.
        
3. **Высокая скорость**
    
    - Минимальные задержки из-за отсутствия накладных расходов (нет ACK, управления потоком и т.д.).
        
    - Идеален для приложений, где важна скорость, а не надежность.
        
4. **Мультикаст и броадкаст**
    
    - Поддерживает рассылку данных на несколько адресов одновременно (например, видеостриминг для множества зрителей).

