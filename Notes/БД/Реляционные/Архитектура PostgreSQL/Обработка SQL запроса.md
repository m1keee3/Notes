PostgreSQL обрабатывает запросы так:

1. **Прием запроса**. Запрос поступает через клиент к дочернему процессу, созданному Postmaster
    
2. **Парсинг**. SQL-текст разбивается на токены и строится синтаксическое дерево. Здесь производится проверка на ошибки
    
3. **Рерайтинг**. Запрос преобразуется с учетом представлений, правил и триггеров
    
4. **Планирование и оптимизация**. Планировщик запросов анализирует различные стратегии выполнения, используя собранную статистику, и выбирает наиболее оптимальный план
    
5. **Исполнение**. Выполнение плана запроса: данные извлекаются, обрабатываются через узлы (фильтрация, сортировка, соединения и т.д.) и формируется результат
    
6. **Возврат результатов**. После выполнения запроса результаты возвращаются клиенту. Для операций, изменяющий данные, делается коммит изменений
