## Что такое Kubernetes

**Kubernetes**  — это платформа для автоматизации развёртывания, масштабирования и управления контейнеризованными приложениями.  
Проще говоря, если у тебя есть приложение в контейнерах (например, Docker), Kubernetes помогает его запускать в кластере серверов, следить за состоянием и автоматически масштабировать.

Идея в том, что ты не заботишься про отдельные серверы, а работаешь с абстракцией **кластера**, в котором приложения могут динамически перемещаться между нодами, если где-то что-то сломалось или нагрузки выросли.

---

## Основные концепции Kubernetes

### 1. Кластер

- Состоит из **control plane** (управляющая часть) и **worker nodes** (узлы, на которых запускаются приложения).
    
- **Control plane** отвечает за:
    
    - планирование задач на ноды,
        
    - отслеживание состояния приложений,
        
    - обработку изменений конфигурации.
        
- **Worker nodes** запускают контейнеры и сообщают состояние control plane.
    

---

### 2. Pod

- **Pod** — базовая единица развертывания.
    
- В одном Pod может быть один или несколько контейнеров, которые совместно используют:
    
    - сеть (IP адрес),
        
    - хранилище (volume).
        
- Pod — временный объект: если он падает, Kubernetes может создать новый.

---

### 3. Deployment

- Позволяет описать, **какое приложение, в каком количестве копий** должно работать.
    
- Kubernetes автоматически создаёт нужное количество Pod’ов, следит за их состоянием и при сбое перезапускает.

---

### 4. Service

- Обеспечивает **доступ к Pod’ам через стабильный IP/имя**, даже если Pod’ы создаются или удаляются динамически.
    
- Есть разные типы сервисов:
    
    - ClusterIP (внутри кластера),
        
    - NodePort (доступ снаружи через порт ноды),
        
    - LoadBalancer (объединяет несколько нод через балансировщик).

---

### 5. ConfigMap и Secret

- ConfigMap — хранит **конфигурационные данные** (например, настройки приложения).
    
- Secret — хранит **чувствительные данные** (пароли, токены, сертификаты), с возможностью шифрования.

---

### 6. Volumes

- Kubernetes умеет подключать **постоянное хранилище** к Pod’ам.
    
- Примеры:
    
    - локальные диски ноды,
        
    - облачные хранилища (AWS EBS, GCP Persistent Disk),
        
    - сетевые файловые системы (NFS, Ceph).

---

### 7. Ingress

- Управляет **внешним доступом** к приложениям.
    
- Позволяет делать:
    
    - маршрутизацию по URL,
        
    - TLS-шифрование,
        
    - балансировку нагрузки.

---

### 8. Namespace

- Логическая изоляция ресурсов в кластере.
    
- Полезно, если в одном кластере работают несколько команд или окружений (dev/stage/prod).

---

## Почему Kubernetes популярен

- **Авто-восстановление**: упавшие Pod’ы перезапускаются автоматически.
    
- **Масштабирование**: можно легко увеличить количество реплик под нагрузкой.
    
- **Декларативное управление**: описываешь состояние в YAML/JSON, Kubernetes делает остальное.
    
- **Портативность**: одинаково работает в облаке и локально.
    
- **Сообщество и экосистема**: множество готовых инструментов для мониторинга, логирования, CI/CD.